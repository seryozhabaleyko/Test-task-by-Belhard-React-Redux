import types from 'redux/constants/types/news';

function fetchNewsApi() {
    const url = 'https://jsonplaceholder.typicode.com/posts';

    return fetch(url).then(response => response.json());
}

function newsAllItemFetch() {

    return async (dispatch) => {

        dispatch({
            type: types.request,
        });

        try {
            const news = await fetchNewsApi();

            dispatch({
                type: types.success,
                payload: news,
            });
        } catch (error) {
            dispatch({
                type: types.failure,
                payload: error,
                error: true,
            });
        }
    };
}

export default newsAllItemFetch;