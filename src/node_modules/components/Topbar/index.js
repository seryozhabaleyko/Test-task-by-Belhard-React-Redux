import React from 'react';
import { Link } from 'react-router-dom';
import { connect } from 'react-redux';

import './topbar.scss';

function Topbar({ currentUser }) {

    return (
        <header className="header">
            <div className="container">
                <nav className="topbar">
                    <Link className="logo" to="/">logo</Link>
                    <ul className="nav">
                        <li className="nav__item"><Link className="nav__link" to="/">home</Link></li>
                        <li className="nav__item"><Link className="nav__link" to="/login">login</Link></li>
                        <li className="nav__item"><Link className="nav__link" to="/news">news</Link></li>
                        <li className="nav__item"><Link className="nav__link" to="/profile">profile</Link></li>
                    </ul>
                    {!currentUser && (
                        <Link to="/login">Войти</Link>
                    )}
                    {currentUser && (
                        <button className="profile-toggle" type="button">
                            <img src={currentUser.avatar} alt={currentUser.username} />
                            <span className="indicator"></span>
                        </button>
                    )}
                </nav>
            </div>
        </header>
    );
}

const mapStateToProps = (state) => ({
    currentUser: state.auth.currentUser,
});

export default connect(mapStateToProps)(Topbar);